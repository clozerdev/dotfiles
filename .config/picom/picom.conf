#################################
#            Defaults           #
#################################
backend					= "glx";
crop-shadow-to-monitor	= true;
vsync					= true;

#################################
#              Rules            #
#################################
rules = (
  {
    match  = "class_g = 'flameshot'";
    shadow = false;
    focus  = false;
  },

  # Menus / Tooltips / etc.
  {
    match  = "window_type = 'popup_menu'";
    shadow = false;
    focus  = false;
    fade   = false;

    animations = (
      {
        triggers = ["open", "show"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = 0;
          end      = "window-raw-opacity";
        };
      },
      {
        triggers = ["close", "hide"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = "window-raw-opacity-before";
          end      = 0;
        };
      }
    );
  },
  {
    match  = "window_type = 'menu'";
    shadow = false;
    focus  = false;
    fade   = false;

    animations = (
      {
        triggers = ["open", "show"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = 0;
          end      = "window-raw-opacity";
        };
      },
      {
        triggers = ["close", "hide"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = "window-raw-opacity-before";
          end      = 0;
        };
      }
    );
  },
  {
    match  = "window_type = 'dropdown_menu'";
    shadow = false;
    focus  = false;
    fade   = false;

    animations = (
      {
        triggers = ["open", "show"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = 0;
          end      = "window-raw-opacity";
        };
      },
      {
        triggers = ["close", "hide"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = "window-raw-opacity-before";
          end      = 0;
        };
      }
    );
  },
  {
    match  = "window_type = 'tooltip'";
    shadow = false;
    focus  = false;
    fade   = false;

    animations = (
      {
        triggers = ["open", "show"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = 0;
          end      = "window-raw-opacity";
        };
      },
      {
        triggers = ["close", "hide"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = "window-raw-opacity-before";
          end      = 0;
        };
      }
    );
  },
  {
    match  = "window_type = 'utility'";
    shadow = false;
    focus  = false;
    fade   = false;

    animations = (
      {
        triggers = ["open", "show"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = 0;
          end      = "window-raw-opacity";
        };
      },
      {
        triggers = ["close", "hide"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = "window-raw-opacity-before";
          end      = 0;
        };
      }
    );
  },
  {
    match  = "class_i = 'rofi'";
    shadow = true;
    focus  = false;
    fade   = false;

    animations = (
      {
        triggers = ["open"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = 0;
          end      = "window-raw-opacity";
        };
        blur-opacity   = "opacity";
        shadow-opacity = "opacity";
        offset-x       = "(1 - scale-x) / 2 * window-width";
        offset-y       = "(1 - scale-y) / 2 * window-height";
        scale-y = {
          curve    = "cubic-bezier(0,1.3,1,1)";
          duration = 0.2;
          start    = 0.6;
          end      = 1;
        };
        scale-x         = 1;
        shadow-scale-x  = "scale-x";
        shadow-scale-y  = "scale-y";
        shadow-offset-x = "offset-x";
        shadow-offset-y = "offset-y";
      },
      {
        triggers = ["close"];
        opacity = {
          curve    = "linear";
          duration = 0.1;
          start    = "window-raw-opacity-before";
          end      = 0;
        };
        blur-opacity   = "opacity";
        shadow-opacity = "opacity";
        offset-x       = "(1 - scale-x) / 2 * window-width";
        offset-y       = "(1 - scale-y) / 2 * window-height";
        scale-y = {
          curve    = "linear";
          duration = 0.2;
          start    = 1;
          end      = 0.6;
        };
        scale-x         = 1;
        shadow-scale-x  = "scale-x";
        shadow-scale-y  = "scale-y";
        shadow-offset-x = "offset-x";
        shadow-offset-y = "offset-y";
      }
    );
  },
  {
    match  = "class_i = 'polybar'";
    shadow = false;
    focus  = false;
    fade   = false;
  }
);

#################################
#             Shadows           #
#################################
shadow         = true;
shadow-radius  = 30;
shadow-opacity = 0.75;

#################################
#        Animation Settings     #
#################################
animations = (
  {
    triggers = ["close"];
    opacity = {
      curve    = "cubic-bezier(0,1,1,1)";
      duration = 0.1;
      start    = "window-raw-opacity-before";
      end      = 0;
    };
    blur-opacity   = "opacity";
    shadow-opacity = "opacity";
    offset-x       = "(1 - scale-x) / 2 * window-width";
    offset-y       = "(1 - scale-y) / 2 * window-height";
    scale-y = {
      curve    = "cubic-bezier(0,1.3,1,1)";
      duration = 0.2;
      start    = 1;
      end      = 0.6;
    };
    scale-x         = 1;
    shadow-scale-x  = "scale-x";
    shadow-scale-y  = "scale-y";
    shadow-offset-x = "offset-x";
    shadow-offset-y = "offset-y";
  },
  {
    triggers = ["open"];
    opacity = {
      curve    = "linear";
      duration = 0.05;
      start    = 0;
      end      = "window-raw-opacity";
    };
    blur-opacity   = "opacity";
    shadow-opacity = "opacity";
    offset-x       = "(1 - scale-x) / 2 * window-width";
    offset-y       = "(1 - scale-y) / 2 * window-height";
    scale-y = {
      curve    = "cubic-bezier(0,1.3,1,1)";
      duration = 0.3;
      start    = 0.6;
      end      = 1;
    };
    scale-x         = 1;
    shadow-scale-x  = "scale-x";
    shadow-scale-y  = "scale-y";
    shadow-offset-x = "offset-x";
    shadow-offset-y = "offset-y";
  },
  {
    triggers = ["show"];
    opacity = {
      curve    = "linear";
      duration = 0.1;
      start    = 0;
      end      = "window-raw-opacity";
    };
  },
  {
    triggers = ["hide"];
    opacity = {
      curve    = "linear";
      duration = 0.2;
      start    = "window-raw-opacity-before";
      end      = 0;
    };
    blur-opacity   = "opacity";
    shadow-opacity = "opacity";
  },
  {
    triggers = ["geometry"];
    scale-x = {
      curve    = "cubic-bezier(0,0,0,1.28)";
      duration = 0.22;
      start    = "window-width-before / window-width";
      end      = 1;
    };
    scale-y = {
      curve    = "cubic-bezier(0,0,0,1.28)";
      duration = 0.22;
      start    = "window-height-before / window-height";
      end      = 1;
    };
    offset-x = {
      curve    = "cubic-bezier(0,0,0,1.28)";
      duration = 0.22;
      start    = "window-x-before - window-x";
      end      = 0;
    };
    offset-y = {
      curve    = "cubic-bezier(0,0,0,1.28)";
      duration = 0.22;
      start    = "window-y-before - window-y";
      end      = 0;
    };

    shadow-scale-x  = "scale-x";
    shadow-scale-y  = "scale-y";
    shadow-offset-x = "offset-x";
    shadow-offset-y = "offset-y";
  }
);
